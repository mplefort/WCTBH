(window.lsWebpackJsonp=window.lsWebpackJsonp||[]).push([[29],{"Y+L5":function(e,t,n){"use strict";n.r(t);var r=n("hosL"),o=n("/m4v"),a=n("8Jek"),c=n.n(a),i=n("D5VQ"),s=n("mfHw"),u=n("+RKI"),l=n("JkPl"),f=n("wGg9"),p=n("t4B4"),y=n("tCgK"),b=n("24CC"),d=Object(b.a)(["isCategoriesFlyoutDisplayed",function(e){return e.categories.isCategoriesFlyoutDisplayed}],["catFlyouts",function(e){return e.categories.catFlyouts}],["activeCategory",function(e){return e.categories.activeCategory}],["flyoutCards",function(e){return e.categories.cards}],["occasionLinks",function(e){return e.categories.occasionLinks}],["t",b.j],["flags",b.f],["l1Cats",function(e){var t=e.categories.occasionLinks&&e.categories.occasionLinks.map((function(e){return e.key}));return e.categories.catFlyouts&&e.categories.catFlyouts.filter((function(e){return!(t.indexOf(e.key)>-1)}))}],["app",b.b]);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=v(t).call(this,e))||"object"!==h(o)&&"function"!=typeof o?g(r):o).handleDocumentActive=n.handleDocumentActive.bind(g(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentActive)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentActive)}},{key:"handleDocumentActive",value:function(e){document.getElementsByClassName("ls-hide cat-flyout-wrapper").length||!e.target.closest("#btn-categories")&&e.target.closest(".ls-signin-flyout, .ls-signin-form, .ls-search-wrapper, .signin-container")&&this.props.showCategoriesFlyout()}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.isCategoriesFlyoutDisplayed;return Object(r.h)("div",{id:"btn-categories",className:c()("redesign-buttons icon icon-arrow-down-large",{"flyout-visible":n}),"data-bhw":"categories-btn",role:"button",tabIndex:"0",onClick:this.props.showCategoriesFlyout},Object(r.h)("div",{className:"redesign-container"},t.header.categories))}}])&&m(n.prototype,o),a&&m(n,a),t}(r.Component),w=Object(o.connect)(d,y)(j),k=n("CWnL"),C=n("Iosn");function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=N(t).call(this,e))||"object"!==L(o)&&"function"!=typeof o?S(r):o).renderColumn=n.renderColumn.bind(S(n)),n.renderLink=n.renderLink.bind(S(n)),n.renderl2Columns=n.renderl2Columns.bind(S(n)),n.renderCards=n.renderCards.bind(S(n)),n.renderHeading=n.renderHeading.bind(S(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(t,e),n=t,(o=[{key:"renderLink",value:function(e,t){var n=e.id,o=e.name,a=e.url;return"all-deals"===n?null:Object(r.h)("a",{className:c()("subcategories-link",{clearance:"goods-clearance"===n}),href:a,"data-bhc":n?"category:".concat(n):void 0,role:"menuitem",tabIndex:"-1",key:"category:".concat(n||t)},o)}},{key:"renderColumn",value:function(e){var t=this;return e?e.map((function(e,n){return Object(r.h)("div",{className:"categories-subcolumn subnav-categories",key:"column-".concat(n)},e.map(t.renderLink))})):null}},{key:"renderCards",value:function(e,t,n){return!e||t.length>=3?null:e.map((function(e,t){return Object(r.h)("div",{className:"categories-subcolumn subnav-categories cards-column",key:"column-".concat(e.group,"-").concat(t),"data-bhw":"".concat(n,"-card-").concat(t,"-").concat(e.id)},Object(r.h)("a",{href:e.url,className:"redesign-cards"},Object(r.h)("img",{alt:e.url,src:e.imgUrl})))}))}},{key:"renderl2Columns",value:function(){var e=this.props,t=e.flyoutCards,n=e.catFlyouts,o=e.activeCategory,a=(n||[]).find((function(e){return e.id===o}));if(!t||!a)return null;var c=a.links,i=a.id,s=t[i]?t[i].cards.slice(0,3-c.length):null;return Object(r.h)("div",{className:"l2-columns"},this.renderColumn(c),this.renderCards(s,c,i))}},{key:"renderHeading",value:function(){var e=this.props,t=e.catFlyouts,n=e.activeCategory,o=e.t,a=t.find((function(e){return e.id===n}));return a?Object(r.h)("h3",{className:"categories-l2-heading",key:a.id},a.label,Object(r.h)("a",{className:"shop-all-link",href:a.url},o.header.shopAll)):null}},{key:"render",value:function(){return Object(r.h)("div",{className:"categories-l2"},this.renderHeading(),this.renderl2Columns())}}])&&_(n.prototype,o),a&&_(n,a),t}(r.Component),E=Object(o.connect)(d,y)(P),A=n("BwKO");function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var M=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=I(t).call(this,e))||"object"!==x(o)&&"function"!=typeof o?T(r):o).renderL1CatAndOCcasions=n.renderL1CatAndOCcasions.bind(T(n)),n.renderL1Cats=n.renderL1Cats.bind(T(n)),n.renderOccasionLinks=n.renderOccasionLinks.bind(T(n)),n}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){this.props.checkExperiment("enableMoviesLink")}},{key:"renderL1Cats",value:function(e){var t=this,n=e.id,o=e.key,a=e.bhw,i=e.label,s=this.props,u=s.activeCategory,l=s.flags;return"goods"===o&&l.webProjectTaco?null:Object(r.h)("div",{className:c()("l1-cat icon-arrow-right-large",{"current-tab":n===u}),key:o,id:n,"data-bhw":a,onMouseOver:function(){return t.props.showCategoryFlyoutItem(n)},onFocus:function(){return t.props.showCategoryFlyoutItem(n)},role:"button",tabIndex:"0"},i)}},{key:"renderOccasionLinks",value:function(e){var t=this,n=this.props,o=n.activeCategory,a=n.app,i=n.flyoutCards,s=n.catFlyouts,u=e.key,l=e.url,f=e.label,p=e.bhw,y=this.props.flags,b=a.country,d=(s||[]).find((function(e){return e.id===u})),h=d&&d.links&&d.links.length||i&&i[u]?function(){return t.props.showCategoryFlyoutItem(u)}:null;return"movies"===u&&!y.experiments.enableMoviesLink||"goods-deal-of-day"===u&&y.webProjectTaco?null:"US"!==b?Object(r.h)("div",{className:c()("occasion-links emea-occ-links",{"current-tab":u===o&&h}),key:u,id:u,"data-bhw":p,onMouseOver:h,onFocus:h,role:"button",tabIndex:"0"},Object(r.h)("a",{href:l,className:c()("occasionLinks",{"icon-arrow-right-large":h})},f)):Object(r.h)("div",{className:c()("occasion-links",{movies:"movies"===u}),key:u,"data-bhw":p},Object(r.h)("a",{className:"occasionLinks",href:l},f))}},{key:"renderL1CatAndOCcasions",value:function(){var e=this,t=this.props,n=t.catFlyouts,o=t.occasionLinks,a=t.l1Cats;return Object(r.h)("div",{className:"categories-column",key:"categories-column"},Array.isArray(n)&&a.map((function(t){return e.renderL1Cats(t)})),o&&o.map(this.renderOccasionLinks))}},{key:"render",value:function(){var e=this.props,t=e.isCategoriesFlyoutDisplayed,n=e.catFlyouts;return Object(r.h)("div",{className:c()({"ls-hide":!t},"cat-flyout-wrapper")},Object(r.h)("div",{className:"cat-flyout-inner"},Object(r.h)("div",{id:"categories-flyout",className:"categories-flyout","aria-labelledby":"btn-categories",onMouseLeave:this.props.showCategoriesFlyout},this.renderL1CatAndOCcasions(),n&&Object(r.h)(E,null))))}}])&&D(n.prototype,o),a&&D(n,a),t}(r.Component),R=Object(o.connect)(d,{showCategoriesFlyout:y.showCategoriesFlyout,showCategoryFlyoutItem:y.showCategoryFlyoutItem,checkExperiment:A.a})(M),U=n("Xvj5");function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"Header",(function(){return V}));var V=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),K(this,G(t).apply(this,arguments))}var n,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(t,e),n=t,(o=[{key:"render",value:function(){var e=this.props,t=e.flags,n=e.app,o=n.country;return Object(r.h)("div",{id:"ls-header-wrapper",className:t.desktopHeader2019||"US"===o?"header-redesign":""},Object(r.h)("div",{id:"user-wrapper",className:c()("user-wrapper page-container",{"lang-select":t.showLanguageSelector})},t.isUpdatedIAMBanner?Object(r.h)("div",{id:"iam-container",className:"iam-wrapper"},Object(r.h)(U.a,null)):null,Object(r.h)("div",{id:"ls-user-nav",className:"ls-user-nav"},Object(r.h)(l.a,null))),Object(r.h)("div",{className:"ls-header-top"},Object(r.h)("div",{id:"ls-header-top-row",className:"ls-header-top-row page-container"},Object(r.h)(i.a,J({},this.props,{id:"ls-h-logo"})),Object(r.h)(w,null),Object(r.h)("div",{id:"ls-search-wrapper",className:"ls-search-wrapper"},Object(r.h)(s.a,{app:n})),Object(r.h)(C.a,null),Object(r.h)(u.a,null),Object(r.h)(k.a,null))),Object(r.h)("nav",{id:"ls-channel-nav",className:"ls-channel-nav"},Object(r.h)(R,null),t.whiteHeader?null:Object(r.h)(f.a,null),Object(r.h)(p.a,null)))}}])&&W(n.prototype,o),a&&W(n,a),t}(r.Component);t.default=Object(o.connect)((function(e){return{app:e.app,flags:e.flags}}),{})(V)}}]);
//# sourceMappingURL=desktop-preact-redesign-header-090626f55c15.js.map