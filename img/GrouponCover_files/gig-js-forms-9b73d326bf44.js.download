!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="gkbj")}({1:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.createDocumentFragment=function(e){return document.createRange().createContextualFragment(e)};var r=function(e){return"object"===n(t=e)&&!Array.isArray(t)&&null!==t&&e.jquery?e.get():e;var t};t.getAllNodes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.classList&&t.classList.contains(e.replace(/^\./,""))?[t]:t.querySelectorAll(e):r(e)};var o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if("string"==typeof e)t=n.classList&&n.classList.contains(e.replace(/^\./,""))?n:n.querySelector(e);else{var o=r(e);t=Array.isArray(o)?o[0]:o}return t};t.getNode=o,t.getMatchingParents=function(e,t){var n=o(e),r=[];if(!n)return r;for(;null!==(n=n.parentElement);)n.nodeType===Node.ELEMENT_NODE&&(t&&!n.matches(t)||r.push(n));return r},t.bindToWindow=function(e,t){window.GIG=window.GIG||{},window.GIG[e]||(window.GIG[e]=t)}},"D+Tj":function(e,t,n){"use strict";function r(e,t,n){return new Promise((function(r){return n()?r():e.addEventListener(t,r,{once:!0})}))}t.windowLoaded=r(window,"load",(function(){return"complete"===document.readyState})),t.documentReady=r(document,"DOMContentLoaded",(function(){return"loading"!==document.readyState}))},gkbj:function(e,t,n){n("oaKO")},oaKO:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(1),a=o.getNode,i=o.getAllNodes,c=o.bindToWindow,s=n("D+Tj").windowLoaded,l=["date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],d=["text","email","password","search"],u="error",f="error-extended",p="error-message",y="error-additional-message",m="filled",v="focused",b="gig-field-dropdown",g="gig-field",L="password-as-text",h="should-truncate-singleline",w="success",E="gig-top-label",S=".".concat(g),x={XX:{label:"dd/mm/yyyy",pattern:"[0-9]{2}/[0-9]{2}/[0-9]{4}"},CA:{label:"yyyy/mm/dd",pattern:"[0-9]{4}/[0-9]{2}/[0-9]{2}"},US:{label:"mm/dd/yyyy",pattern:"[0-9]{2}/[0-9]{2}/[0-9]{4}"}},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t){var n=function(){var n=e.parentNode.querySelector(".".concat(y));return n?n.innerHTML=t:(e.classList.add(f),e.insertAdjacentHTML("afterend","<div class='".concat(y,"'>").concat(t,"</div>")))};setTimeout(n,150)}},T=function(e){var t=document.createElement("input");try{t.type="date"}catch(e){return}"text"===t.type&&e.forEach((function(e){return e.querySelectorAll("input").forEach((function(e){if("date"===e.getAttribute("type")&&"text"===e.type){var t=void 0!==window.I18n?window.I18n.country:void 0,n=x[t]||x.XX;e.placeholder=n.label,e.pattern=n.pattern}}))}))},A=function(e){e.querySelectorAll("".concat(S," textarea")).forEach((function(e){(function(e,t){for(var n=[];e=e.previousElementSibling;)(!t||"function"==typeof t&&t(e))&&n.push(e);return n})(e,(function(e){return"label"===e.nodeName.toLowerCase()})).forEach((function(e){e.classList.add("label-textarea")}));var t=e.closest(S);t&&!t.classList.contains("gig-field-textarea")&&t.classList.add("gig-field-textarea")}))},q=function(e){return e.querySelectorAll("input, select, textarea")},j=function(e){var t,n,r,o;if(!(e=a(e)))return{};(o=e).classList.contains(g)||o.classList.contains(b)?(n=(t=e).querySelector("label"),r=q(t)):(n=(t=e.parentNode).querySelector("label"),r=q(t));return{field:t,label:n,formElements:r}},k=function(e){var t=j(e),n=t.field,r=t.label;if(n&&r){var o=r.querySelector(".".concat(p));o&&o.parentNode.removeChild(o),n.classList.remove(u,f);var a=n.nextElementSibling;a&&a.classList.contains(y)&&a.parentNode.removeChild(a),r.classList.remove(u),r.innerText.trim()||r.remove()}},O=function(e){var t=e.target;(!t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&this.querySelector("input, textarea").focus()},M=function(){var e=this.parentNode;this.value?e.classList.add(m):e.classList.contains(u)||e.classList.remove(m),d.indexOf(this.type)>-1&&this.classList.add(h),e.classList.remove(v)},C=function(){this.parentNode.classList.add(v),this.classList.remove(h)},I=function(){var e=this.parentNode.querySelector("input");"password"===e.type?(e.type="text",e.classList.add(L)):(e.type="password",e.classList.remove(L));var t=this.innerText;this.textContent=this.getAttribute("data-toggle-text"),this.setAttribute("data-toggle-text",t)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e=a(e);var t=i(S,e),n={passive:!0};T(t),A(e),t.forEach((function(e){var t=e.querySelector("input, textarea");if(t){if((t.value||window.chrome&&e.querySelector("input:-webkit-autofill, textarea:-webkit-autofill"))&&e.classList.add(m),"password"===t.type){var r=t.parentNode.querySelector(".gig-pw-toggle");null!=r&&(r.removeEventListener("click",I),r.addEventListener("click",I,n))}var o=t.type;("TEXTAREA"===t.nodeName||l.indexOf(o)>-1)&&(e.removeEventListener("click",O),t.removeEventListener("blur",M),t.removeEventListener("focus",C),e.addEventListener("click",O,n),t.addEventListener("blur",M,n),t.addEventListener("focus",C,n))}}))},G={addError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=j(e),o=r.field,a=r.formElements,i=r.label,c=t;if(o){if(o.classList.remove(w),o.classList.contains(b)||"SELECT"===o.nodeName||"checkbox"===o.type){var s=o.classList.contains(E)?" ":"<br>";c="".concat(s).concat(t)}i||(i=document.createElement("label"),o.prepend(i));var l=i.querySelector(".".concat(p));l?l.innerHTML=c:(o.classList.add(u),i.insertAdjacentHTML("beforeend","<span class='".concat(p,"'>").concat(c,"</span>"))),N(o,n),a.forEach((function(e){var t="input";switch(e.nodeName){case"SELECT":t="change";break;case"INPUT":if("checkbox"===e.type||"radio"===e.type){t="change";break}}e.addEventListener(t,(function(){return k(e)}),{once:!0})}))}},enableField:function(e){var t=j(e),n=t.field;t.label.classList.remove("disabled"),n.classList.remove("disabled"),n.disabled=!1,q(n).forEach((function(e){return e.disabled=!1}))},disableField:function(e){var t=j(e),n=t.field;t.label.classList.add("disabled"),n.classList.add("disabled"),n.disabled=!0,q(n).forEach((function(e){return e.disabled=!0}))},reloadBindings:P,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;P(e)},prepopulate:function(e){if("object"===r(e))for(var t in e){var n=e[t];t.match(/^#/).length||(t="#".concat(t));var o=document.body.querySelector(t.replace("#",""));o.value=n,o.blur()}},removeError:k,success:function(e){var t=j(e).field;k(t),t.classList.add(w)}};c("Forms",G),s.then((function(){window.requestIdleCallback((function(){return G.init(document)}))})),e.exports=G}});
//# sourceMappingURL=gig-js-forms-9b73d326bf44.js.map